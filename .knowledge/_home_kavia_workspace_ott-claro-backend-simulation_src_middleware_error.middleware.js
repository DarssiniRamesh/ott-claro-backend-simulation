{"is_source_file": true, "format": "JavaScript", "description": "This file contains middleware for error handling in an Express.js application, defining custom error classes and a global error handler.", "external_files": ["winston"], "external_methods": ["createLogger", "format.combine", "format.timestamp", "format.printf", "format.json"], "published": ["BaseError", "NotFoundError", "ValidationError", "AuthenticationError", "AuthorizationError", "DatabaseError", "errorHandler"], "classes": [{"name": "BaseError", "description": "Base class for custom errors, extending the standard Error class with additional properties."}, {"name": "NotFoundError", "description": "Represents a 404 Not Found error."}, {"name": "ValidationError", "description": "Represents a 400 Validation error."}, {"name": "AuthenticationError", "description": "Represents a 401 Authentication error."}, {"name": "AuthorizationError", "description": "Represents a 403 Authorization error."}, {"name": "DatabaseError", "description": "Represents a 500 Database error."}], "methods": [{"name": "handleMongoError(err)", "description": "Maps MongoDB errors to custom error classes.", "scope": "", "scopeKind": ""}, {"name": "handleJWTError(err)", "description": "Maps JWT errors to custom error classes.", "scope": "", "scopeKind": ""}, {"name": "formatError(err)", "description": "Formats the error response to be sent back to the client.", "scope": "", "scopeKind": ""}, {"name": "errorHandler(err, req, res, next)", "description": "Global error handling middleware that logs errors and sends error responses.", "scope": "", "scopeKind": ""}, {"name": "constructor(message = 'Authentication failed')", "scope": "AuthenticationError", "scopeKind": "class", "description": "unavailable"}, {"name": "constructor(message = 'Database operation failed')", "scope": "DatabaseError", "scopeKind": "class", "description": "unavailable"}, {"name": "constructor(message = 'Not authorized')", "scope": "AuthorizationError", "scopeKind": "class", "description": "unavailable"}, {"name": "constructor(message = 'Resource not found')", "scope": "NotFoundError", "scopeKind": "class", "description": "unavailable"}, {"name": "constructor(message = 'Validation failed')", "scope": "ValidationError", "scopeKind": "class", "description": "unavailable"}, {"name": "constructor(message, statusCode, isOperational = true)", "scope": "BaseError", "scopeKind": "class", "description": "unavailable"}], "calls": ["logger.error", "handleMongoError", "handleJWTError"], "search-terms": ["error handling middleware", "custom errors", "Express.js"], "state": 2, "file_id": 16, "knowledge_revision": 110, "git_revision": "6e42bbdbbd6e52b34c5ae4fb2d32524785afa7d2", "revision_history": [{"19": ""}, {"99": "a055249ed3f50a74fded91d9ea0ed5e5585c3167"}, {"100": "a055249ed3f50a74fded91d9ea0ed5e5585c3167"}, {"104": "01827e71eac49866e2cddaac19273a9caa4650fd"}, {"108": "01827e71eac49866e2cddaac19273a9caa4650fd"}, {"110": "6e42bbdbbd6e52b34c5ae4fb2d32524785afa7d2"}], "ctags": [{"_type": "tag", "name": "AuthenticationError", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/error.middleware.js", "pattern": "/^class AuthenticationError extends BaseError {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "AuthorizationError", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/error.middleware.js", "pattern": "/^class AuthorizationError extends BaseError {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "BaseError", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/error.middleware.js", "pattern": "/^  BaseError,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "BaseError", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/error.middleware.js", "pattern": "/^class BaseError extends Error {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "DatabaseError", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/error.middleware.js", "pattern": "/^class DatabaseError extends BaseError {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "NotFoundError", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/error.middleware.js", "pattern": "/^class NotFoundError extends BaseError {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "ValidationError", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/error.middleware.js", "pattern": "/^class ValidationError extends BaseError {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/error.middleware.js", "pattern": "/^  constructor(message = 'Authentication failed') {$/", "language": "JavaScript", "kind": "method", "signature": "(message = 'Authentication failed')", "scope": "AuthenticationError", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/error.middleware.js", "pattern": "/^  constructor(message = 'Database operation failed') {$/", "language": "JavaScript", "kind": "method", "signature": "(message = 'Database operation failed')", "scope": "DatabaseError", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/error.middleware.js", "pattern": "/^  constructor(message = 'Not authorized') {$/", "language": "JavaScript", "kind": "method", "signature": "(message = 'Not authorized')", "scope": "AuthorizationError", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/error.middleware.js", "pattern": "/^  constructor(message = 'Resource not found') {$/", "language": "JavaScript", "kind": "method", "signature": "(message = 'Resource not found')", "scope": "NotFoundError", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/error.middleware.js", "pattern": "/^  constructor(message = 'Validation failed') {$/", "language": "JavaScript", "kind": "method", "signature": "(message = 'Validation failed')", "scope": "ValidationError", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/error.middleware.js", "pattern": "/^  constructor(message, statusCode, isOperational = true) {$/", "language": "JavaScript", "kind": "method", "signature": "(message, statusCode, isOperational = true)", "scope": "BaseError", "scopeKind": "class"}, {"_type": "tag", "name": "devLogFormat", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/error.middleware.js", "pattern": "/^const devLogFormat = printf(({ level, message, timestamp, ...metadata }) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "errorHandler", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/error.middleware.js", "pattern": "/^function errorHandler(err, req, res, next) {$/", "language": "JavaScript", "kind": "function", "signature": "(err, req, res, next)"}, {"_type": "tag", "name": "formatError", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/error.middleware.js", "pattern": "/^function formatError(err) {$/", "language": "JavaScript", "kind": "function", "signature": "(err)"}, {"_type": "tag", "name": "handleJWTError", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/error.middleware.js", "pattern": "/^function handleJWTError(err) {$/", "language": "JavaScript", "kind": "function", "signature": "(err)"}, {"_type": "tag", "name": "handleMongoError", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/error.middleware.js", "pattern": "/^function handleMongoError(err) {$/", "language": "JavaScript", "kind": "function", "signature": "(err)"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/error.middleware.js", "pattern": "/^const logger = createLogger({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "winston", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/error.middleware.js", "pattern": "/^const winston = require('winston');$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/error.middleware.js", "hash": "ff73eb306c3f3a34f881d41bcef7b928", "format-version": 4, "code-base-name": "default", "fields": [{"name": "BaseError,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}]}