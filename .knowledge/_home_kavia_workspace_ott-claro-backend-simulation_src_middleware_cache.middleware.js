{"is_source_file": true, "format": "JavaScript", "description": "A middleware implementation for caching in-memory responses to GET requests in an Express application.", "external_files": ["../config/env.config"], "external_methods": [], "published": ["cacheMiddleware", "clearCache", "getCacheKey"], "classes": [], "methods": [{"name": "getCacheKey", "description": "Generates a cache key based on the HTTP request method and original URL."}, {"name": "cacheMiddleware", "description": "Express middleware function that caches responses from GET requests for a specified duration."}, {"name": "clearCache", "description": "Clears the entire cache or a specific cache entry identified by the provided key."}, {"name": "json(data)", "scope": "res", "scopeKind": "function", "description": "unavailable"}], "calls": ["req.method", "req.originalUrl", "cache.get", "res.json", "cache.set", "cache.delete", "cache.clear"], "search-terms": ["cache middleware", "GET request caching", "in-memory cache", "Express caching"], "state": 2, "file_id": 15, "knowledge_revision": 17, "git_revision": "", "ctags": [{"_type": "tag", "name": "cache", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/cache.middleware.js", "pattern": "/^const cache = new Map();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "cacheMiddleware", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/cache.middleware.js", "pattern": "/^  cacheMiddleware,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "cacheMiddleware", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/cache.middleware.js", "pattern": "/^const cacheMiddleware = (duration = config.CACHE_DURATION) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "cachedResponse", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/cache.middleware.js", "pattern": "/^    const cachedResponse = cache.get(key);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "clearCache", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/cache.middleware.js", "pattern": "/^const clearCache = (key) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "config", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/cache.middleware.js", "pattern": "/^const config = require('..\\/config\\/env.config');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getCacheKey", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/cache.middleware.js", "pattern": "/^const getCacheKey = (req) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "json", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/cache.middleware.js", "pattern": "/^    res.json = function(data) {$/", "language": "JavaScript", "kind": "function", "signature": "(data)", "scope": "res", "scopeKind": "function"}, {"_type": "tag", "name": "key", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/cache.middleware.js", "pattern": "/^    const key = getCacheKey(req);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "now", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/cache.middleware.js", "pattern": "/^      const now = Date.now();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "originalJson", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/cache.middleware.js", "pattern": "/^    const originalJson = res.json;$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/ott-claro-backend-simulation/src/middleware/cache.middleware.js", "hash": "d19bd886eb8f6cba3b7f900b47651370", "format-version": 4, "code-base-name": "default", "fields": [{"name": "cacheMiddleware,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"17": ""}]}