{"is_source_file": true, "format": "JavaScript", "description": "Controller for managing asset retrieval and metadata operations in a backend application.", "external_files": ["../services/apaService"], "external_methods": ["apaService.getAssetConfig", "apaService.getMetadata"], "published": ["getAsset", "getMetadata"], "classes": [], "methods": [{"name": "validateAssetParams", "description": "Validates input parameters for asset requests and returns an array of error messages if any validations fail."}, {"name": "getAsset", "description": "Handles asset requests, validates parameters, retrieves asset configuration from the service, and returns the response in JSON format."}, {"name": "getMetadata", "description": "Handles metadata requests, retrieves metadata from the service, and returns the response in JSON format."}], "calls": ["apaService.getAssetConfig", "apaService.getMetadata"], "search-terms": ["asset", "metadata", "validation"], "state": 2, "file_id": 57, "knowledge_revision": 372, "git_revision": "cc9bdae8f8d0373f03d318a7b2c0a628514d3322", "revision_history": [{"299": ""}, {"313": ""}, {"348": "76506f74682f7a33bdda81916adb423a39a930e4"}, {"363": "cc9bdae8f8d0373f03d318a7b2c0a628514d3322"}, {"367": "cc9bdae8f8d0373f03d318a7b2c0a628514d3322"}, {"372": "cc9bdae8f8d0373f03d318a7b2c0a628514d3322"}], "ctags": [{"_type": "tag", "name": "apaService", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/apaController.js", "pattern": "/^const apaService = require('..\\/services\\/apaService');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "api_version", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/apaController.js", "pattern": "/^      api_version: req.query.api_version,$/", "language": "JavaScript", "kind": "property", "scope": "params", "scopeKind": "class"}, {"_type": "tag", "name": "assetConfig", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/apaController.js", "pattern": "/^    const assetConfig = await apaService.getAssetConfig(params);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "authpn", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/apaController.js", "pattern": "/^      authpn: req.query.authpn,$/", "language": "JavaScript", "kind": "property", "scope": "params", "scopeKind": "class"}, {"_type": "tag", "name": "authpt", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/apaController.js", "pattern": "/^      authpt: req.query.authpt,$/", "language": "JavaScript", "kind": "property", "scope": "params", "scopeKind": "class"}, {"_type": "tag", "name": "device_category", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/apaController.js", "pattern": "/^      device_category: req.query.device_category,$/", "language": "JavaScript", "kind": "property", "scope": "params", "scopeKind": "class"}, {"_type": "tag", "name": "device_manufacturer", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/apaController.js", "pattern": "/^      device_manufacturer: req.query.device_manufacturer,$/", "language": "JavaScript", "kind": "property", "scope": "params", "scopeKind": "class"}, {"_type": "tag", "name": "device_model", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/apaController.js", "pattern": "/^      device_model: req.query.device_model,$/", "language": "JavaScript", "kind": "property", "scope": "params", "scopeKind": "class"}, {"_type": "tag", "name": "device_type", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/apaController.js", "pattern": "/^      device_type: req.query.device_type,$/", "language": "JavaScript", "kind": "property", "scope": "params", "scopeKind": "class"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/apaController.js", "pattern": "/^      const error = new Error('Validation failed: ' + validationErrors.join(', '));$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/apaController.js", "pattern": "/^  const errors = [];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getAsset", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/apaController.js", "pattern": "/^  getAsset,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "getAsset", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/apaController.js", "pattern": "/^const getAsset = async (req, res, next) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getMetadata", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/apaController.js", "pattern": "/^const getMetadata = async (req, res, next) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "metadata", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/apaController.js", "pattern": "/^    const metadata = await apaService.getMetadata(params);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "params", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/apaController.js", "pattern": "/^    const params = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "region", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/apaController.js", "pattern": "/^      region: req.query.region,$/", "language": "JavaScript", "kind": "property", "scope": "params", "scopeKind": "class"}, {"_type": "tag", "name": "sessionKey", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/apaController.js", "pattern": "/^      sessionKey: req.query.sessionKey$/", "language": "JavaScript", "kind": "property", "scope": "params", "scopeKind": "class"}, {"_type": "tag", "name": "user_id", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/apaController.js", "pattern": "/^      user_id: req.query.user_id,$/", "language": "JavaScript", "kind": "property", "scope": "params", "scopeKind": "class"}, {"_type": "tag", "name": "validateAssetParams", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/apaController.js", "pattern": "/^const validateAssetParams = (params) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validationErrors", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/apaController.js", "pattern": "/^    const validationErrors = validateAssetParams(params);$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/apaController.js", "hash": "ec0768102c11a27ea1911b278a5b5971", "format-version": 4, "code-base-name": "default", "fields": [{"name": "api_version: req.query.api_version,", "scope": "params", "scopeKind": "class", "description": "unavailable"}, {"name": "authpn: req.query.authpn,", "scope": "params", "scopeKind": "class", "description": "unavailable"}, {"name": "authpt: req.query.authpt,", "scope": "params", "scopeKind": "class", "description": "unavailable"}, {"name": "device_category: req.query.device_category,", "scope": "params", "scopeKind": "class", "description": "unavailable"}, {"name": "device_manufacturer: req.query.device_manufacturer,", "scope": "params", "scopeKind": "class", "description": "unavailable"}, {"name": "device_model: req.query.device_model,", "scope": "params", "scopeKind": "class", "description": "unavailable"}, {"name": "device_type: req.query.device_type,", "scope": "params", "scopeKind": "class", "description": "unavailable"}, {"name": "getAsset,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}, {"name": "region: req.query.region,", "scope": "params", "scopeKind": "class", "description": "unavailable"}, {"name": "sessionKey: req.query.sessionKey", "scope": "params", "scopeKind": "class", "description": "unavailable"}, {"name": "user_id: req.query.user_id,", "scope": "params", "scopeKind": "class", "description": "unavailable"}]}