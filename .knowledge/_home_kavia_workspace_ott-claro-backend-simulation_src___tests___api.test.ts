{"is_source_file": true, "format": "TypeScript", "description": "Test suite for API endpoints using Jest and Supertest, including various test cases for user session, navigation structure, asset configuration, and error handling.", "external_files": ["../server", "../types/api.types"], "external_methods": ["mongoose.connect", "mongoose.connection.close", "expect", "request"], "published": [], "classes": [], "methods": [{"name": "beforeAll", "description": "Sets up the database connection before running tests."}, {"name": "afterAll", "description": "Closes the database connection after all tests have run."}, {"name": "test", "description": "Defines a test case with a specific implementation for the API endpoint."}], "calls": ["request(app).post('/api/user/startheaderinfo')", "request(app).get('/api/nav/data')", "request(app).get('/api/apa/asset')", "request(app).get('/api/apa/metadata')"], "search-terms": ["API Endpoints Tests", "user session request", "navigation structure", "asset configuration", "error handling"], "state": 2, "file_id": 23, "knowledge_revision": 107, "git_revision": "61ce36aca68547c091100db32c44c0ff0e9b6eb9", "revision_history": [{"85": ""}, {"107": "61ce36aca68547c091100db32c44c0ff0e9b6eb9"}], "ctags": [{"_type": "tag", "name": "requests", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/__tests__/api.test.ts", "pattern": "/^      const requests = Array(10).fill(null).map(() =>$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "response", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/__tests__/api.test.ts", "pattern": "/^      const response = await request(app)$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "responses", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/__tests__/api.test.ts", "pattern": "/^      const responses = await Promise.all(requests);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "tooManyRequests", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/__tests__/api.test.ts", "pattern": "/^      const tooManyRequests = responses.some(r => r.status === 429);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "validPayload", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/__tests__/api.test.ts", "pattern": "/^    const validPayload = {$/", "language": "TypeScript", "kind": "constant"}], "filename": "/home/kavia/workspace/ott-claro-backend-simulation/src/__tests__/api.test.ts", "hash": "64e4b6801a7eae949e8af9c13fcc23d7", "format-version": 4, "code-base-name": "default"}