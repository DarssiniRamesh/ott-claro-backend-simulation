{"is_source_file": true, "format": "TypeScript", "description": "This file contains tests for various API endpoints, ensuring that requests are handled correctly and that responses are appropriate based on the given inputs.", "external_files": ["../server", "supertest", "mongoose"], "external_methods": ["mongoose.connect", "mongoose.connection.close"], "published": [], "classes": [], "methods": [{"name": "beforeAll", "description": "Sets up the database connection before any tests are executed."}, {"name": "afterAll", "description": "Closes the database connection after all tests are completed."}, {"name": "test", "description": "Defines a single test case for the API endpoints being tested."}], "calls": ["request(app).post('/api/user/startheaderinfo')", "request(app).post('/api/user/startheaderinfo')", "request(app).post('/api/user/startheaderinfo')", "request(app).get('/api/nav/data')", "request(app).get('/api/nav/data')", "request(app).get('/api/apa/asset')", "request(app).get('/api/apa/asset')", "request(app).get('/api/apa/asset')", "request(app).get('/api/apa/metadata')", "request(app).get('/api/apa/metadata')", "request(app).get('/api/apa/metadata')", "request(app).post('/api/user/startheaderinfo')", "request(app).get('/api/nav/data')"], "search-terms": ["API Endpoints Tests", "User Start Header Info Endpoint", "Navigation Structure Endpoint", "Asset Configuration Endpoint", "Metadata Configuration Endpoint", "Error Handling"], "state": 2, "file_id": 23, "knowledge_revision": 85, "git_revision": "", "ctags": [{"_type": "tag", "name": "requests", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/__tests__/api.test.ts", "pattern": "/^      const requests = Array(10).fill(null).map(() =>$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "response", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/__tests__/api.test.ts", "pattern": "/^      const response = await request(app)$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "responses", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/__tests__/api.test.ts", "pattern": "/^      const responses = await Promise.all(requests);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "tooManyRequests", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/__tests__/api.test.ts", "pattern": "/^      const tooManyRequests = responses.some(r => r.status === 429);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "validPayload", "path": "/home/kavia/workspace/ott-claro-backend-simulation/src/__tests__/api.test.ts", "pattern": "/^    const validPayload = {$/", "language": "TypeScript", "kind": "constant"}], "filename": "/home/kavia/workspace/ott-claro-backend-simulation/src/__tests__/api.test.ts", "hash": "0a0525d8d0d4646436936fce87d92599", "format-version": 4, "code-base-name": "default", "revision_history": [{"85": ""}]}