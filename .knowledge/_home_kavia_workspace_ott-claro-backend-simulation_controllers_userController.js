{"is_source_file": true, "format": "JavaScript", "description": "This file defines a controller for user-related operations, specifically handling the start of header information requests with authentication validation.", "external_files": ["../services/userService"], "external_methods": ["userService.getHeaderInfo"], "published": ["startHeaderInfo"], "classes": [], "methods": [{"name": "startHeaderInfo", "description": "Handles incoming requests, validates authentication parameters, retrieves the client IP address, and returns header information from the userService."}], "calls": ["userService.getHeaderInfo"], "search-terms": ["userController", "header information", "authentication"], "state": 2, "file_id": 55, "knowledge_revision": 344, "git_revision": "aba94be58f84045a3164b97deb4333195f3248fa", "revision_history": [{"295": ""}, {"309": ""}, {"329": "76506f74682f7a33bdda81916adb423a39a930e4"}, {"334": "aba94be58f84045a3164b97deb4333195f3248fa"}, {"337": "aba94be58f84045a3164b97deb4333195f3248fa"}, {"340": "aba94be58f84045a3164b97deb4333195f3248fa"}, {"343": "aba94be58f84045a3164b97deb4333195f3248fa"}, {"344": "aba94be58f84045a3164b97deb4333195f3248fa"}], "ctags": [{"_type": "tag", "name": "clientIp", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/userController.js", "pattern": "/^    let clientIp = req.headers['x-forwarded-for']?.split(',')[0].trim() ||$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/userController.js", "pattern": "/^      const error = new Error('Invalid authentication credentials');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/userController.js", "pattern": "/^      const error = new Error('Missing required authentication parameters: authpn and authpt');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/userController.js", "pattern": "/^      const error = new Error('Unable to determine client IP address');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "headerInfo", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/userController.js", "pattern": "/^    const headerInfo = await userService.getHeaderInfo(clientIp);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "startHeaderInfo", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/userController.js", "pattern": "/^  startHeaderInfo$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "startHeaderInfo", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/userController.js", "pattern": "/^const startHeaderInfo = async (req, res, next) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "userService", "path": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/userController.js", "pattern": "/^const userService = require('..\\/services\\/userService');$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/ott-claro-backend-simulation/controllers/userController.js", "hash": "6b0a82bdb944a4f7846c1c3d53801c05", "format-version": 4, "code-base-name": "default", "fields": [{"name": "let clientIp = req.headers['x-forwarded-for']?.split(',')[0].trim() ||", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "startHeaderInfo", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}]}